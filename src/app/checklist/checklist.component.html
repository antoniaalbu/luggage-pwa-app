<div class="checklist-container">
  <h2 class="app-title">🧳 Luggage Checklist</h2>

  <div class="progress-container">
    <div class="progress-bar">
      <div class="progress-fill" [style.width]="getProgressPercentage() + '%'"></div>
    </div>
    <div class="progress-text">
      <span>{{ getCompletedCount() }} of {{ items.length }} packed</span>
      <span>{{ getProgressPercentage() }}%</span>
    </div>
  </div>

  <div class="category-header">Essentials</div>
  <ul>
    <li *ngFor="let item of getItemsByCategory('essentials'); let i = index"
        [class.priority-high]="item.priority === 'high'">
      <input type="checkbox" [checked]="item.checked" (change)="toggleItem(getItemIndex(item))" />
      <label [class.checked]="item.checked">
        <span *ngIf="item.priority === 'high'" class="priority-icon">❗</span>
        {{ item.name }}
      </label>
      <button (click)="removeItem(getItemIndex(item))">❌</button>
    </li>
  </ul>

  <div class="category-header">Clothing</div>
  <ul>
    <li *ngFor="let item of getItemsByCategory('clothing'); let i = index"
        [class.priority-high]="item.priority === 'high'">
      <input type="checkbox" [checked]="item.checked" (change)="toggleItem(getItemIndex(item))" />
      <label [class.checked]="item.checked">
        <span *ngIf="item.priority === 'high'" class="priority-icon">❗</span>
        {{ item.name }}
      </label>
      <button (click)="removeItem(getItemIndex(item))">❌</button>
    </li>
  </ul>

  <div class="category-header">Toiletries</div>
  <ul>
    <li *ngFor="let item of getItemsByCategory('toiletries'); let i = index"
        [class.priority-high]="item.priority === 'high'">
      <input type="checkbox" [checked]="item.checked" (change)="toggleItem(getItemIndex(item))" />
      <label [class.checked]="item.checked">
        <span *ngIf="item.priority === 'high'" class="priority-icon">❗</span>
        {{ item.name }}
      </label>
      <button (click)="removeItem(getItemIndex(item))">❌</button>
    </li>
  </ul>

  <div class="category-header">Electronics</div>
  <ul>
    <li *ngFor="let item of getItemsByCategory('electronics'); let i = index"
        [class.priority-high]="item.priority === 'high'">
      <input type="checkbox" [checked]="item.checked" (change)="toggleItem(getItemIndex(item))" />
      <label [class.checked]="item.checked">
        <span *ngIf="item.priority === 'high'" class="priority-icon">❗</span>
        {{ item.name }}
      </label>
      <button (click)="removeItem(getItemIndex(item))">❌</button>
    </li>
  </ul>

  <div class="category-header">Other Items</div>
  <ul>
    <li *ngFor="let item of getItemsByCategory('other'); let i = index"
        [class.priority-high]="item.priority === 'high'">
      <input type="checkbox" [checked]="item.checked" (change)="toggleItem(getItemIndex(item))" />
      <label [class.checked]="item.checked">
        <span *ngIf="item.priority === 'high'" class="priority-icon">❗</span>
        {{ item.name }}
      </label>
      <button (click)="removeItem(getItemIndex(item))">❌</button>
    </li>
  </ul>

  <div class="add-item">
    <div class="category-header">Add a new item</div>
    <input type="text" [(ngModel)]="newItem" placeholder="Add new item..." />
    <select [(ngModel)]="newItemCategory">
      <option value="essentials">Essentials</option>
      <option value="clothing">Clothing</option>
      <option value="toiletries">Toiletries</option>
      <option value="electronics">Electronics</option>
      <option value="other">Other</option>
    </select>
    <div class="priority-toggle">
      <label>
        <input type="checkbox" [ngModel]="newItemPriority === 'high'" (ngModelChange)="newItemPriority = $event ? 'high' : 'normal'">
        Mark as High Priority
      </label>
    </div>
    <button (click)="addItem()">Add</button>
  </div>
  
  <div class="reset-container">
    <button class="reset-button" (click)="resetToDefaults()">Reset Checklist</button>
  </div>
</div>